<!DOCTYPE html>

<html lang="es">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Colegio Inmaculada Concepción</title>

    <style>

        :root {

            --primary-color: #2c3e50;

            --secondary-color: #3498db;

            --accent-color: #e74c3c;

            --light-bg: #f5f6fa;

            --white: #ffffff;

        }



        * {

            margin: 0;

            padding: 0;

            box-sizing: border-box;

            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;

        }



        body {

            background-color: var(--light-bg);

        }



        overlay {
    display: none; /* Oculto inicialmente */
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: rgba(0, 0, 0, 0.5); /* Fondo semitransparente */
    z-index: 99;
}
    
    .like-button {
            display: inline-block;
            padding: 8px 15px;
            background-color: var(--accent-color);
            color: var(--white);
            text-decoration: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            margin-top: 10px;
        }
        .like-count {
            font-size: 0.9rem;
            color: var(--primary-color);
            margin-top: 5px;
        }


        .navbar {

            background-color: var(--white);

            padding: 1rem 2rem;

            display: flex;

            justify-content: space-between;

            align-items: center;

            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);

            position: fixed;

            width: 100%;

            top: 0;

            z-index: 10;

        }



        .menu-icon {

            display: none;

            cursor: pointer;

        }



        .menu-icon div {

            width: 25px;

            height: 3px;

            background-color: var(--primary-color);

            margin: 5px 0;

            transition: all 0.3s ease;

        }



        .side-menu {
    transform: translateX(-100%);
    transition: transform 0.3s ease;
    /* Asegúrate de que estos valores sean correctos */
    position: fixed;
    top: 0;
    left: 0;
    width: 250px;
    height: 100%;
    background-color: #333; /* Ajusta el color */
    z-index: 100;
        }



        .side-menu a {

            display: block;

            color: var(--white);

            text-decoration: none;

            padding: 15px 20px;

            margin: 5px 0;

            border-radius: 5px;

            transition: background-color 0.3s ease;

        }



        .side-menu a:hover {

            background-color: var(--secondary-color);

        }



        .search-menu {

            background-color: var(--white);

            padding: 2rem;

            border-radius: 10px;

            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);

            margin: 100px auto 30px;

            max-width: 800px;

            text-align: center;

        }



        .search-menu input[type="text"],

        .search-menu input[type="date"] {

            width: calc(50% - 10px);

            padding: 12px 20px;

            margin: 20px 5px;

            border: 2px solid var(--light-bg);

            border-radius: 25px;

            font-size: 16px;

            transition: border-color 0.3s ease;

        }



        .search-menu input[type="text"]:focus,

        .search-menu input[type="date"]:focus {

            border-color: var(--secondary-color);

            outline: none;

        }



        .search-menu span {

            display: inline-block;

            background-color: var(--light-bg);

            padding: 8px 15px;

            margin: 5px;

            border-radius: 20px;

            cursor: pointer;

            transition: background-color 0.3s ease;

        }



        .search-menu span:hover,

        .search-menu span.active {

            background-color: var(--secondary-color);

            color: var(--white);

        }



        h1 {
    color: var(--primary-color);
    text-align: center;
    margin: 0; /* Elimina cualquier margen superior o inferior */
    font-size: 2.5rem;
            
        }

        .image-slider {
    margin-top: 0; /* Elimina cualquier margen superior */
            
        }


        .slider-container {

            display: flex;

            transition: transform 0.5s ease;

            height: 100%;

        }

    


        .slide {

            min-width: 100%;

            height: 100%;

            background-size: cover;

            background-position: center;

        }



        .slider-controls {

            position: absolute;

            bottom: 20px;

            left: 50%;

            transform: translateX(-50%);

            display: flex;

            gap: 10px;

        }



        .slider-dot {

            width: 12px;

            height: 12px;

            border-radius: 50%;

            background-color: rgba(255, 255, 255, 0.5);

            cursor: pointer;

            transition: background-color 0.3s ease;

        }



        .slider-dot.active {

            background-color: var(--white);

        }



        .news-grid {

            display: grid;

            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));

            gap: 20px;

            padding: 20px;

            max-width: 1200px;

            margin: 0 auto;

        }



        .news-card 

    {

      display: flex;

      width: 100%;

      max-width: 800px;

      background: var(--white);

      border-radius: 10px;

      padding: 20px;

      box-shadow: 0 2px 5px rgba(0,0,0,0.1);

      flex-wrap: wrap;

        }



        .news-card:hover {

            transform: translateY(-5px);

        }



       .news-image {

      flex-shrink: 0;

      width: 100%;

      height: auto;

      max-width: 300px;

      object-fit: cover;

      border-radius: 10px;

      margin-right: 20px;

       }



        .news-content {

            padding: 20px;

        }



        .news-date {

            color: var(--secondary-color);

            font-size: 0.9rem;

        }



        .news-title {

            margin: 10px 0;

            color: var(--primary-color);

        }



        .news-description {

            color: #666;

            font-size: 0.9rem;

            line-height: 1.5;

        }

    
    .download-button {
    display: inline-block;
    margin-top: 10px;
    padding: 8px 15px;
    background-color: var(--accent-color);
    color: var(--white);
    text-decoration: none;
    border-radius: 5px;
    font-size: 0.9rem;
    transition: background-color 0.3s ease;
}

    .download-button:hover {
    background-color: #c0392b; /* Color más oscuro en hover */
}


        @media (max-width: 768px) {

            .menu-icon {

                display: block;

            }



            .side-menu {

                transform: translateX(-100%);

            }



            .side-menu.active {

                transform: translateX(0);

            }



            .search-menu {

                margin: 80px 20px 20px;

            }



            .search-menu input[type="text"],

            .search-menu input[type="date"] {

                width: 100%;

                margin: 10px 0;

            }



            .news-grid {

                grid-template-columns: 1fr;

                padding: 10px;

            }

        }



        .search-icon {

            cursor: pointer;

            font-size: 20px;

            color: var(--primary-color);

        }

    </style>

</head>

<body>

    <div class="overlay"></div>



    <div class="side-menu">

     <ul>
      <li><a href="index.html">Página Principal</a></li>
      <li><a href="sobre-nosotros.html">Sobre Nosotros</a></li>
      <li><a href="Recursos-utilizados.html">Recursos utilizados</a></li>
      <li><a href="Anuncios.html">Anuncios</a></li>
      <li><a href="matricula.html">Maticula escolar</a></li>
    </ul>

    </div>



    <div class="navbar">

        <div class="menu-icon">

            <div></div>

            <div></div>

            <div></div>

        </div>

        <h1></h1>

        <div class="search-icon"></div>

    </div>



    <div class="search-menu">

        <input type="text" placeholder="Buscar">

        <input type="date" id="search-date">

        <div class="categories">

            <span class="active">Todas las categorías</span>

            <span>Ajedrez</span>

            <span>Fútbol</span>

            <span>Taekwondo</span>

            <span>Basketball</span>

            <span>Certamen</span>

            <span>Atletismo</span>

            <span>Cultural</span>

        </div>

    </div>



    <h1>Colegio Inmaculada Concepción</h1>



    <div class="image-slider">

        <div class="slider-container">

            <div class="slide" style="background-image: url('/api/placeholder/1200/400')"></div>

            <div class="slide" style="background-image: url('/api/placeholder/1200/400')"></div>

            <div class="slide" style="background-image: url('/api/placeholder/1200/400')"></div>

        </div>

        <div class="slider-controls">

            <div class="slider-dot active"></div>

            <div class="slider-dot"></div>

            <div class="slider-dot"></div>

        </div>

    </div>



    <div class="news-grid">

        <!-- Las tarjetas de noticias se generarán dinámicamente con JavaScript -->

    </div>



    <script>

        // Manejo del menú lateral
const menuIcon = document.querySelector('.menu-icon');
const sideMenu = document.querySelector('.side-menu');
const overlay = document.querySelector('.overlay');
const menuLinks = document.querySelectorAll('.side-menu a');

// Función para abrir/cerrar el menú lateral
function toggleMenu() {
    const isOpen = sideMenu.style.transform === 'translateX(0px)';
    sideMenu.style.transform = isOpen ? 'translateX(-100%)' : 'translateX(0)';
    overlay.style.display = isOpen ? 'none' : 'block';
}

// Abrir o cerrar el menú al hacer clic en el icono del menú
menuIcon.addEventListener('click', toggleMenu);

// Cerrar el menú al hacer clic en el overlay
overlay.addEventListener('click', toggleMenu);

// Cerrar el menú al hacer clic en cualquier enlace dentro del menú lateral
menuLinks.forEach(link => {
    link.addEventListener('click', () => {
        sideMenu.style.transform = 'translateX(-100%)';
        overlay.style.display = 'none';
    });
});


        // Manejo del slider de imágenes

        const sliderContainer = document.querySelector('.slider-container');

        const slides = document.querySelectorAll('.slide');

        const dots = document.querySelectorAll('.slider-dot');

        let currentSlide = 0;



        function updateSlider() {

            sliderContainer.style.transform = `translateX(-${currentSlide * 100}%)`;

            dots.forEach((dot, index) => {

                dot.classList.toggle('active', index === currentSlide);

            });

        }



        dots.forEach((dot, index) => {

            dot.addEventListener('click', () => {

                currentSlide = index;

                updateSlider();

            });

        });



        // Cambio automático de slides

        setInterval(() => {

            currentSlide = (currentSlide + 1) % slides.length;

            updateSlider();

        }, 5000);



        // Manejo de categorías

        const categories = document.querySelectorAll('.categories span');

        categories.forEach(category => {

            category.addEventListener('click', () => {

                categories.forEach(c => c.classList.remove('active'));

                category.classList.add('active');

                filterNews(category.textContent);
                
            });

        });



        

        // Archivo principal de JavaScript (main.js)

// Importaciones de Firebase
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
import { getFirestore, doc, getDoc, setDoc, updateDoc } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

// Configuración de Firebase
const firebaseConfig = {
    apiKey: "AIzaSyCk_tGfeKTillU4GwJ3fLOl-v_MzLTHizs",
    authDomain: "scholary-5bd45.firebaseapp.com",
    projectId: "scholary-5bd45",
    storageBucket: "scholary-5bd45.firebasestorage.app",
    messagingSenderId: "565098748615",
    appId: "1:565098748615:web:5b9f679f0442ebbb657ce2",
    measurementId: "G-7DFCBBNB7E"
};

// Inicializar Firebase
const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

// Datos de noticias
const newsData = [ 
    { 
        id: 1,
        image: 'Ajedrez.jpg', 
        date: '2024-08-16', 
        title: 'Torneo de Ajedrez 2024', 
        description: 'Final del torneo de ajedrez en honor a nuestra señora de la asuncion. Participantes destacados: Maveth Yoshua y Angel Gabriel, obteniendo primer y segundo lugar respectivamente.', 
        category: 'Ajedrez'
    },
    // ... resto de tus noticias ...
]; 

// Funciones de manejo de likes
async function getLikes(newsId) {
    try {
        const docRef = doc(db, "likes", `news_${newsId}`);
        const docSnap = await getDoc(docRef);
        
        if (docSnap.exists()) {
            return docSnap.data().count;
        } else {
            await setDoc(docRef, { count: 0 });
            return 0;
        }
    } catch (error) {
        console.error("Error al obtener likes:", error);
        return 0;
    }
}

async function updateLikes(newsId) {
    try {
        const docRef = doc(db, "likes", `news_${newsId}`);
        const docSnap = await getDoc(docRef);
        
        if (docSnap.exists()) {
            const currentLikes = docSnap.data().count;
            await updateDoc(docRef, {
                count: currentLikes + 1
            });
            return currentLikes + 1;
        } else {
            await setDoc(docRef, { count: 1 });
            return 1;
        }
    } catch (error) {
        console.error("Error al actualizar likes:", error);
        return null;
    }
}

function hasLiked(newsId) {
    return localStorage.getItem(`liked_${newsId}`) === 'true';
}

// Función para crear tarjetas de noticias
async function createNewsCard(news) {
    const likes = await getLikes(news.id);
    const likedClass = hasLiked(news.id) ? 'disabled' : '';
    
    return `
        <div class="news-card" data-category="${news.category}">
            <img class="news-image" src="${news.image}" alt="${news.title}">
            <div class="news-content">
                <div class="news-date">${news.date}</div>
                <h3 class="news-title">${news.title}</h3>
                <p class="news-description">${news.description}</p>
                <a href="${news.image}" download="${news.title}" class="download-button">Descargar Imagen</a>
                <button class="like-button ${likedClass}" onclick="window.handleLikeClick(${news.id})">
                    Me gusta
                </button>
                <div class="like-count" id="like-count-${news.id}">
                    ${likes} Me gusta
                </div>
            </div>
        </div>
    `;
}

// Funciones de filtrado y búsqueda
async function filterNews(category) {
    const newsGrid = document.querySelector('.news-grid');
    const filteredNews = category === 'Todas las categorías'
        ? newsData
        : newsData.filter(news => news.category === category);
    
    filteredNews.sort((a, b) => new Date(b.date) - new Date(a.date));
    
    newsGrid.innerHTML = '';
    for (const news of filteredNews) {
        const newsCardHTML = await createNewsCard(news);
        newsGrid.innerHTML += newsCardHTML;
    }
}

// Inicialización y manejo de eventos
function initializeApp() {
    // Manejo del menú lateral
    const menuIcon = document.querySelector('.menu-icon');
    const sideMenu = document.querySelector('.side-menu');
    const overlay = document.querySelector('.overlay');
    const menuLinks = document.querySelectorAll('.side-menu a');

    function toggleMenu() {
        const isOpen = sideMenu.style.transform === 'translateX(0px)';
        sideMenu.style.transform = isOpen ? 'translateX(-100%)' : 'translateX(0)';
        overlay.style.display = isOpen ? 'none' : 'block';
    }

    menuIcon.addEventListener('click', toggleMenu);
    overlay.addEventListener('click', toggleMenu);
    menuLinks.forEach(link => {
        link.addEventListener('click', () => {
            sideMenu.style.transform = 'translateX(-100%)';
            overlay.style.display = 'none';
        });
    });

    // Manejo del slider
    const sliderContainer = document.querySelector('.slider-container');
    const slides = document.querySelectorAll('.slide');
    const dots = document.querySelectorAll('.slider-dot');
    let currentSlide = 0;

    function updateSlider() {
        sliderContainer.style.transform = `translateX(-${currentSlide * 100}%)`; 
        dots.forEach((dot, index) => { 
            dot.classList.toggle('active', index === currentSlide); 
        }); 
    }

    dots.forEach((dot, index) => {
        dot.addEventListener('click', () => {
            currentSlide = index;
            updateSlider();
        });
    });

    setInterval(() => {
        currentSlide = (currentSlide + 1) % slides.length;
        updateSlider();
    }, 5000);

    // Manejo de categorías
    const categories = document.querySelectorAll('.categories span');
    categories.forEach(category => {
        category.addEventListener('click', () => {
            categories.forEach(c => c.classList.remove('active'));
            category.classList.add('active');
            filterNews(category.textContent);
        });
    });

    // Inicializar noticias
    filterNews('Todas las categorías');

    // Búsqueda por fecha
    const dateInput = document.querySelector('#search-date');
    dateInput.addEventListener('change', async (e) => {
        const selectedDate = e.target.value;
        const filteredNews = newsData
            .filter(news => news.date === selectedDate)
            .sort((a, b) => new Date(b.date) - new Date(a.date));
        const newsGrid = document.querySelector('.news-grid');
        newsGrid.innerHTML = '';
        for (const news of filteredNews) {
            const newsCardHTML = await createNewsCard(news);
            newsGrid.innerHTML += newsCardHTML;
        }
    });

    // Búsqueda por texto
    const searchInput = document.querySelector('.search-menu input[type="text"]');
    searchInput.addEventListener('input', async (e) => {
        const searchText = e.target.value.toLowerCase();
        const activeCategory = document.querySelector('.categories .active').textContent;

        const filteredNews = newsData
            .filter(news => 
                (activeCategory === 'Todas las categorías' || news.category === activeCategory) &&
                (news.title.toLowerCase().includes(searchText) ||
                news.description.toLowerCase().includes(searchText))
            )
            .sort((a, b) => new Date(b.date) - new Date(a.date));

        const newsGrid = document.querySelector('.news-grid');
        newsGrid.innerHTML = '';
        for (const news of filteredNews) {
            const newsCardHTML = await createNewsCard(news);
            newsGrid.innerHTML += newsCardHTML;
        }
    });
}

// Función global para manejar clicks en likes
async function handleLikeClick(newsId) {
    if (!hasLiked(newsId)) {
        const newLikes = await updateLikes(newsId);
        if (newLikes !== null) {
            document.getElementById(`like-count-${newsId}`).textContent = `${newLikes} Me gusta`;
            localStorage.setItem(`liked_${newsId}`, 'true');
            const likeButton = document.querySelector(`[onclick="window.handleLikeClick(${newsId})"]`);
            if (likeButton) {
                likeButton.classList.add('disabled');
            }
        }
    }
}

// Hacer funciones disponibles globalmente
window.handleLikeClick = handleLikeClick;
window.filterNews = filterNews;

// Inicializar la aplicación cuando el DOM esté listo
document.addEventListener('DOMContentLoaded', initializeApp);
    </script>

</script>
</body>

</html
